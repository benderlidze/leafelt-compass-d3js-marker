<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8' />
  <title>Care Team MI Coverage Map</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    #map {
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
    }
  </style>
</head>

<body>

  <div id='map'></div>
  <script>
    mapboxgl.accessToken =
      'pk.eyJ1IjoiYmVuZGVybGlkemUiLCJhIjoiY2pud3c0MnN1MDdraTN4cXBraDR3MHdyaCJ9.OsQLWGIWOutuIXCHgT8coQ';
    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v9',
      center: {
        lng: -84.33725136596183,
        lat: 43.88197873130605
      },
      zoom: 6,
      maxBounds: [[-96.71557160098031, 33.87493377397604], [-72.86756315037024, 51.36135900110304]]
    });



    map.on('load', function () {

      map.setPaintProperty("water", 'fill-color', "#a0c8f0")

      map.addLayer({
        'id': 'maine',
        'type': 'fill',
        'source': {
          'type': 'geojson',
          'data': {
            'type': 'Feature',
            'geometry': {
              'type': 'Polygon',
              'coordinates': [[[-85.095688191147048, 44.083383364806316], [-84.489019048616953, 44.08248297058244], [-83.907418878918605, 43.906846497313381], [-83.914939570768141, 43.811586807928229], [-83.940008543599987, 43.759396471479739], [-83.933741300392029, 43.703356899696999], [-83.853520587330195, 43.659828577432464], [-83.743217106870162, 43.63260735250374], [-83.670517085657863, 43.598109440960506], [-83.495034275835081, 43.750626212072667], [-83.476232546211222, 43.664901907300241], [-83.338353195636188, 43.670475577232139], [-83.335846298352976, 43.334078395624559], [-83.102704851017023, 43.332254939614629], [-83.102704851017023, 43.284825866705177], [-82.984880678707455, 43.284825866705177], [-82.984880678707455, 43.048957462129877], [-82.468459838371842, 42.823211693388451], [-82.478487427504561, 42.750540574273167], [-82.489768465278871, 42.710949554674251], [-82.513583989469112, 42.665803401547151], [-82.518597784035478, 42.618779701999145], [-82.598818497097326, 42.559719288557908], [-82.626394367212313, 42.576335685920689], [-82.645196096836187, 42.627080584437891], [-82.626394367212313, 42.66303828542425], [-82.657730583252103, 42.684234365981261], [-82.729177155822796, 42.681690091532793], [-82.76176682050415, 42.654042833723551], [-82.79811683111032, 42.651054694397075], [-82.820678906658969, 42.618779701999145], [-82.794356485185546, 42.602174616944666], [-82.780568550128038, 42.564335398484332], [-82.828199598508519, 42.568028040524048], [-82.857655641585922, 42.544285466580909], [-82.877084095530577, 42.509843540340462], [-82.874577198247394, 42.459003224464965], [-82.87959099281376, 42.396088994528071], [-82.924715143911058, 42.366460450716211], [-82.999295338085716, 42.346055338313498], [-83.08014277546836, 42.310869250303966], [-83.117746234716094, 42.26553240815894], [-83.145322104831095, 42.218108051198691], [-83.136547964339968, 42.12763342989269], [-83.175404872229279, 42.054516930697147], [-83.188566082965991, 42.004222158605792], [-83.255625585291114, 41.950193516303941], [-83.350887682052061, 41.894235621877328], [-83.671770534299426, 41.894235621877328], [-83.686811917998511, 42.073128111124646], [-84.188191374635011, 42.076849692538694], [-84.198218963767715, 42.403493945872093], [-85.085660602014315, 42.410898023331335], [-85.090674396580653, 42.765265665074082], [-84.844998462828784, 42.765265665074082], [-84.85001225739515, 43.460674446034837], [-85.090674396580653, 43.460674446034837], [-85.095688191147048, 44.083383364806316]]]
            }
          }
        },
        'layout': {},
        'paint': {
          'fill-color': '#088',
          'fill-opacity': 0.5
        }
      });

      map.addLayer({
        'id': 'mich',
        'type': 'fill',
        'source': {
          'type': 'geojson',
          'data': {
            'type': 'Feature',
            'geometry': {
              'type': 'Polygon',
              'coordinates': [[[-101.702629243588774, 56.477509764467086], [-71.218758280091876, 55.635192277317827], [-70.817654714782705, 29.403019106098135], [-101.080918717359552, 30.325557306309229], [-101.702629243588774, 56.477509764467086]], [[-86.721411079291286, 42.549188459106183], [-87.092431877202273, 42.208250428593388], [-87.002183575007706, 41.797119274151491], [-84.836224322338182, 41.757008917620574], [-84.816169144072731, 41.67678820455874], [-83.532637735083384, 41.706870971956924], [-83.131534169774213, 41.95756070027516], [-83.106465196942381, 42.293484936221581], [-82.850761674057793, 42.398774622115241], [-82.646449545478461, 42.482128956781061], [-82.631070904330798, 42.532854146847413], [-82.569121421831539, 42.567055099303019], [-82.528401755187033, 42.611874526194157], [-82.507007054143614, 42.634775172338912], [-82.505656758445113, 42.673233746417907], [-82.463428776378166, 42.769898096769076], [-82.482495584405882, 42.806845942633821], [-82.471248982176064, 42.839270851532049], [-82.469863528866, 42.891109570196285], [-82.447506789600709, 42.937034524000786], [-82.424544754078042, 42.953091068423262], [-82.415755304923948, 42.977597505221887], [-82.424275773756406, 42.995729537673029], [-82.41663683203501, 43.005230914876037], [-82.489768465279539, 43.672278441971855], [-82.323059795947913, 44.416826935077005], [-82.690320247934125, 45.34688582713764], [-84.344872454834459, 45.888375640305021], [-85.026748515860064, 45.828210105508646], [-85.417824492036473, 45.587547966323136], [-86.22003162265483, 45.186444401013972], [-86.641190366229452, 44.765285657439343], [-86.761521435822189, 43.592057728910028], [-86.791604203220388, 43.281202465795424], [-86.721411079291286, 42.549188459106183]]]
            }
          }
        },
        'layout': {},
        'paint': {
          'fill-color': '#a0c8f0',
          'fill-opacity': 1
        }
      });


      map.addLayer({
        "id": "places",
        "type": "circle",
        "source": {
          "type": "geojson",
          "data": {
            "type": "FeatureCollection",
            "features": [{
              "type": "Feature",
              "properties": {
                "description": `<strong>FARMINGTON HILLS</strong><p>30600 NORTHWESTERN HWY<br>SUITE 245<br>FARMINGTON HILLS, MI 48334</p><p>PHONE: 248-957-1999<br />FAX: 888-990-0589<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-83.32732, 42.512009]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>SAGINAW</strong><p>3232 FASHION SQUARE BLVD<br>SAGINAW, MI 48603</p><p>PHONE:  989-341-4920<br />FAX: 989-341-3988<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-83.971463, 43.454273]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>FLINT</strong><p>5409 GATEWAY CENTER SUITE C<br>FLINT, MI 48507</p><p>PHONE: 810-337-8200<br />FAX: 810-213-4031<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-83.67699, 42.943517]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>DOWN RIVER</strong><p>12621 HALE STREET<br>RIVERVIEW, MI 48193</p><p>PHONE:  734-288-3477<br />FAX: 734-720-7238<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-83.178256, 42.173972]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>STANDISH</strong><p>441 SOUTH MAIN ST, STE 3<br>STANDISH, MI 48658</p><p>PHONE:  989-846-2222<br />FAX: 989-846-4556<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-83.9613176, 43.9773536]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>GAYLORD</strong><p>604 WEST MAIN ST, STE A<br>
GAYLORD, MI 49735</p><p>PHONE:  989-448-7446<br />FAX: 989-448-7447<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-84.6834501, 45.027758]
              }
            },
            {
              "type": "Feature",
              "properties": {
                "description": `<strong>TRAVERSE CITY</strong><p>6170 US 31 NORTH, STE B<br>
WILLIAMSBURG, MI 49690</p><p>PHONE:  231-421-5285<br />FAX: 231-421-5281<p>`,
              },
              "geometry": {
                "type": "Point",
                "coordinates": [-85.5011708, 44.7758438]
              }
            },
            ]
          }
        },
        'paint': {
          'circle-stroke-color': "white",
          'circle-stroke-width': 2,
          'circle-radius': 5,
          'circle-color': 'red'
        }
      });

      map.on('click', 'places', function (e) {
        var coordinates = e.features[0].geometry.coordinates.slice();
        var description = e.features[0].properties.description;
        while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
          coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
        }
        new mapboxgl.Popup()
          .setLngLat(coordinates)
          .setHTML(description)
          .addTo(map);
      });

      map.on('mouseenter', 'places', function () {
        map.getCanvas().style.cursor = 'pointer';
      });

      map.on('mouseleave', 'places', function () {
        map.getCanvas().style.cursor = '';
      });
    });
  </script>

</body>

</html>